<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Friend Finder: Survey</title>
  <meta name="description" content="Compatibility-based 'FriendFinder' application -- basically a dating app. This full-stack site takes in results from users' surveys, then compare their answers with those from other users. The app then displays the name and picture of the user with the best overall match.">
  <meta name="author" content="MQSchwanda">
  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">
  <!-- SURVEY STYLE -->
  <style>
    p {
      line-height: 2rem;
    }
    .white-text {
      text-shadow: 1px 1px rgba(0, 0, 0, .5);
    }
    footer.page-footer {
      margin: 0;
    }
    #githubLink {
      text-decoration: none;
    }
  </style>
</head>
  <body>
    <!-- NAVBAR -->
    <nav class="teal lighten-1" role="navigation">
      <div class="nav-wrapper container">
        <a id="logo-container" href="/home" class="brand-logo white-text">Friend Finder</a>
      </div>
    </nav>
    <div id="survey-container" class="container">
      <div class="row">
        <!--   Suervey Section   -->
        <div class="col s12">
          <h5>About You</h5>
          <div class="row">
            <div class="input-field col s12 m6">
              <input placeholder="John Smith" id="name" type="text" class="validate">
              <label for="name">Name (Required)</label>
            </div>
            <div class="input-field col s12 m6">
              <input placeholder="http://placehold.it/200x200" id="photo" type="text" class="validate">
              <label for="photo">Link to Photo Image (Required)</label>
            </div>
          </div>
        </div>
      </div>
      <!--
        Survey contains 10 questions with each answer on a
        scale of 1 to 5 based on how much the user agrees
        or disagrees with a question.
      -->
      <div class="row">
        <div class="row-group col s12 m6">
          <h5>Question 1</h5>
          <p>Your mind is always buzzing with unexplored ideas and plans.</p>
          <div class="input-field col s12">
            <select  data-placeholder="" class="chosen-select" id="question-1">
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row-group col s12 m6">
          <h5>Question 2</h5>
          <p>Generally speaking, you rely more on your experience than your imagination.</p>
          <div class="input-field col s12">
            <select  data-placeholder="" class="chosen-select" id="question-2">
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="row-group col s12 m6">
            <h5>Question 3</h5>
            <p>You find it easy to stay relaxed and focused even when there is some pressure.</p>
            <div class="input-field col s12">
              <select  data-placeholder="" class="chosen-select" id="question-3">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
          <div class="row-group col s12 m6">
            <h5>Question 4</h5>
            <p>You rarely do something just out of sheer curiosity.</p>
            <div class="input-field col s12">
              <select  data-placeholder="" class="chosen-select" id="question-4">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="row-group col s12 m6">
            <h5>Question 5</h5>
            <p>People can rarely upset you.</p>
            <div class="input-field col s12">
              <select  data-placeholder="" class="chosen-select" id="question-5">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
          <div class="row-group col s12 m6">
            <h5>Question 6</h5>
            <p>It is often difficult for you to relate to other people’s feelings.</p>
            <div class="input-field col s12">
              <select  data-placeholder="" class="chosen-select" id="question-6">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="row-group col s12 m6">
            <h5>Question 7</h5>
            <p>In a discussion, truth should be more important than people’s sensitivities.</p>
            <div class="input-field col s12">
              <select  data-placeholder="" class="chosen-select" id="question-7">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
          <div class="row-group col s12 m6">
            <h5>Question 8</h5>
            <p>You rarely get carried away by fantasies and ideas.</p>
            <div class="input-field col s12">
              <select  data-placeholder="" class="chosen-select" id="question-8">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="row-group col s12 m6">
            <h5>Question 9</h5>
            <p>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</p>
            <div class="input-field col s12">
              <select  data-placeholder="" class="chosen-select" id="question-9">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
          <div class="row-group col s12 m6">
            <h5>Question 10</h5>
            <p>You feel more energetic after spending time with a group of people.</p>
            <div class="input-field col s12">
              <select  data-placeholder="" class="chosen-select" id="question-10">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>
        <br>
        <br>
        <!-- Submit Button -->
        <button type="submit" class="btn" id="submit">Submit</button>
        <br>
      </div>
    </div>
    <div id="result-container" class="container">
      <div class="row">
        <div class="col s12 m6 offset-m3 l4 offset-l4">
          <div class="card">
            <div class="card-image">
              <img id="result-src" src="http://placehold.it/400x400" alt="">
              <span class="card-title"></span>
            </div>
            <div class="card-content">
              <h4>Best Match: <i id="result-name">Placeholder<i></h4>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer class="page-footer teal">
      <div class="footer-copyright">
        <div class="container">
          <div class="row">
            <div class="col s12 center-align">
              <p><a id="githubLink" class="white-text text-darken-2" href="https://github.com/mqschwanda/RCB-Friend-Finder" target="_blank">GitHub Repo</a></p>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
    <script type="text/javascript">
      (function($){
        $(function(){
          $('#result-container').toggle();
          $('.button-collapse').sideNav();
          $('.parallax').parallax();
          $('select').material_select();
        }); // end of document ready
      })(jQuery); // end of jQuery name space

      // form submit function
      $("#submit").on("click", function() {
        // object to hold input information
        var input = {
          name: $("#name").val(),
          src: $("#photo").val(),
          scores: [$("#question-1").val(),$("#question-2").val(),$("#question-3").val(),$("#question-4").val(),$("#question-5").val(),$("#question-6").val(),$("#question-7").val(),$("#question-8").val(),$("#question-9").val(),$("#question-10").val()]
        };
        // AJAX post the data to the friends API.
        $.post(window.location.origin + "/api/friends", input, function(data) {
          $("#result-name").text(data.name); // set the result name
          $("#result-src").attr("src", data.src); // set the result src
          $("#survey-container").toggle(); // hide the survey container
          $("#result-container").toggle(); // show the container with the best match
        });
        return false; // prevent default button action
      });
    </script>
  </body>
